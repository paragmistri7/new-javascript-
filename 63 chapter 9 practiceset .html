<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // q. 1 & 2 

        // const loadscript = (src) => {

        //     return new Promise((resolve, reject) => {
        //         let script = document.createElement("script")
        //         script.src = src
        //         script.onload = () => {
        //             resolve(src + " successfull")
        //         }
        //         document.head.append(script)
        //     })
        // }

        // let a = loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js")
        // a.then((value)=>{
        //     console.log(value)
        // })

        // const main2 = async () => {
        //     console.log(new Date().getMilliseconds())
        //     let a = await loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js")
        //     console.log(a)
        //     console.log(new Date().getMilliseconds())
        // }
        // main2()

        // Q. - 3 

        // let p1 = () => {

        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             reject(new Error("this is reject"))
        //         }, 3000);
        //     })
        // }

        // let a = async () => {
        //     try {
        //         let c = await p1()
        //         console.log(c)

        //     } catch (error) {
        //         console.log(error , "error handle")
        //     }
        // }
        // a()

        // Q.-4 

        let p1 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(10)
                }, 2000)
            })
        }

        let p2 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(20)
                }, 3000)
            })
        }

        let p3 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(30)
                }, 1000)
            })
        }

        let run = async () => {

            // console.time("run")
            // let a1 = await p1()
            // let a2 = await p2()
            // let a3 = await p3()
            // console.log(a1, a2, a3)
            // console.timeEnd("run")
            
            console.time("run")
            let a1 =  p1()   
            let a2 =  p2()
            let a3 =  p3()
            let a1a2a3 = await Promise.all([a1 ,a2 ,a3])
            console.log(a1a2a3)
            console.timeEnd("run")
        }
        run()


    </script>
</body>

</html>